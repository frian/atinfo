@import "base";

@import url('https://fonts.googleapis.com/css?family=Lato:300|Muli:300|Gruppo');

body {
    color: #222;
    background-color: #f0f0f0;
    overflow-x: hidden;
}

section {

    position:  relative;
    width:          100%;
    margin:   100px auto;
    padding: 200px 100px 100px;

    .container {
        position:               relative;
        padding:                    20px;
        width:                       80%;
        margin:                     auto;
        background-color:           #eee;
        border:           1px solid #ccc;

        @include border-radius(10px);
    }

    &.index {

        margin-top:            -150px;
        z-index:                   10;
        border-bottom: 5px solid #c00;

        @include transform(rotateZ(3deg));

        .container {

            text-align: center;
            @include transform(rotateZ(-3deg));

            h1 {
                font-family: 'Gruppo', sans-serif;
                font-size: 500%;
                // @include debug(red);
            }

            h2 {
                color: #222;
                padding: 10px 0;
                font-family: 'Muli', sans-serif;
                font-size: 110%;
                // @include debug(blue);
            }

            p {
                color: #444;
                padding: 5px 0;
                font-family: 'Lato', sans-serif;
                font-size: 100%;
                // @include debug(green);
            }
        }
    }

    &.service {
        z-index: 5;
        margin-top: -200px;
        @include transform(rotateZ(-2deg));

        border-bottom: 5px solid #00c;

        .container {

            height: 350px;

            h1 {
                font-family: 'Lato', sans-serif;
                font-size: 200%;
                // @include debug(red);
            }

            @include transform(rotateZ(2deg));
        }
    }

    &.contact {
        margin-top: -200px;
        @include transform(rotateZ(3deg));

        border-bottom: 5px solid #090;

        .container {

            h1 {
                font-family: 'Lato', sans-serif;
                font-size: 200%;
                // @include debug(red);
            }
            @include transform(rotateZ(-3deg));
        }
    }

}

@mixin abs-centered() {
    position: absolute;
    top: 50%;
    left: 50%;
}


$bg-color: #eee;


$YOffset : 50px;
$XOffset : 20px;

$servicesContentSize: 200px;                                        // 200
$leafSize: $servicesContentSize / 5;                                //  40
$leaf3Margin: $servicesContentSize / 10 * 3;                        //  60
$leaf4Margin: $servicesContentSize / 2;                             // 100
$bigStemSize: $servicesContentSize / 4;                             //  50

$stemSize: $bigStemSize / 5;                                        //  10

$stemWidth : $bigStemSize / 10;                                     //   5

$centerSize : $leafSize / 2;                                        //  20


#servicesContent {
    @include abs-centered();
    height:                         $servicesContentSize;
    width:                          $servicesContentSize;
    margin-top:  - ($servicesContentSize / 2) + $YOffset;
    margin-left: - ($servicesContentSize / 2) + $XOffset;
    @include debug(red);
}

#servicesFlowerContainer {
    position: relative;
    width:           0;
    height:       100%;
}




/*
	-- LEAVES --------------------------------------------------------------------
*/
.leaf {
    position:     absolute;
    height:      $leafSize;
    width:       $leafSize;
    border: 1px solid #070;
    @include border-radius(1% 80% 1% 90%);
    margin:           auto;
    left:              0px;
    transform-origin: left top;
    background-color: #080;
}

#leaf1 {
    bottom: - $leafSize + 1;
    left: -5px;
    @include transform(rotateZ(180deg));
    // @include animation('leafGrow1 6s ease-out forwards');
}

#leaf2 {
    bottom: - $leafSize + 1;
    left: 6px;
    @include transform(rotateX(180deg));
    // @include animation('leafGrow2 6s ease-out forwards');
}

#leaf3 {
    bottom: - $leafSize + $leaf3Margin;
    left: -8px;
    @include transform(rotateZ(180deg) scale(0.8));
    // @include animation('leafGrow3 6s ease-out forwards');
}

#leaf4 {
    bottom: - $leafSize + $leaf4Margin;
    left: 0px;
    @include transform(rotateX(180deg) scale(0.6));
    // @include animation('leafGrow4 6s ease-out forwards');
}


@include keyframes(leafGrow1) {
    0% {
        @include transform(scale(0.01) rotateZ(180deg));
        @include opacity(1);
    }
    66.66% {
        @include transform(scale(1) rotateZ(180deg));
        @include opacity(1);
    }
    100% {
        @include transform(scale(1) rotateZ(180deg));
        @include opacity(1);
    }
}
@include keyframes(leafGrow2) {
    0% {
        @include transform(scale(0.01) rotateX(180deg));
        @include opacity(1);
    }
    16.66% {
        @include transform(scale(0.01) rotateX(180deg));
        @include opacity(1);
    }
    100% {
        @include transform(scale(1) rotateX(180deg));
        @include opacity(1);
    }
}
@include keyframes(leafGrow3) {
    0% {
        @include transform(scale(0.01) rotateZ(180deg));
        @include opacity(1);
    }
    33.33% {
        @include transform(scale(0.01) rotateZ(180deg));
        @include opacity(1);
    }
    83.33% {
        @include transform(scale(0.8) rotateZ(180deg));
        @include opacity(1);
    }
    100% {
        @include transform(scale(0.8) rotateZ(180deg));
        @include opacity(1);
    }
}
@include keyframes(leafGrow4) {
    0%{
        @include transform(scale(0.01) rotateX(180deg));
        @include opacity(1);
    }
    50% {
        @include transform(scale(0.01) rotateX(180deg));
        @include opacity(1);
    }
    100% {
        @include transform(scale(0.6) rotateX(180deg));
        @include opacity(1);
    }
}

$stemColor: #070; // #070

#bigStem {
    position:         absolute;
    width:        $bigStemSize;
    height:         $stemWidth;
    left:                -13px;
    top:                   8px;
    border-radius:         50%;
    border-top: 2px solid #090;
    @include transform(rotateZ(40deg));
}

.stem {
    position:        absolute;
    width:         $stemWidth;
    height:         $stemSize;
    border-radius:        50%;
    border-left: 1px solid $stemColor;
}

.stem1 {
    left: 7px;
    top: 7px;
    @include transform(rotateZ(20deg));
}

.stem2 {
    left: 20px;
    top: 7px;
    @include transform(rotateZ(60deg));
}

.stem3 {
    left: 22px;
    top: 20px;
    @include transform(rotateZ(20deg));
}


/*
	-- CENTER --------------------------------------------------------------------
*/
#serviceCenter {
    position:          absolute;
    width:          $centerSize;
    height:         $centerSize;
    top:      - $centerSize / 2;
    left:     - $centerSize / 2;
    border: 2px solid $bg-color;
    background-color:     black;
    z-index:                 50;
    @include border-radius($centerSize);
    // @include animation('centerGrow 4s ease-out forwards');
}

@include keyframes(centerGrow) {
    0% {
        @include transform(scale(0));
    }
    50% {
        @include transform(scale(0));
    }
    100% {
        @include transform(scale(1));
    }
}


/*
	-- PETALS --------------------------------------------------------------------
*/
.servicePetal {
    position:                 absolute;
    top:                           1px;
    left:                          3px;
    height:                  $leafSize;
    width:                   $leafSize;
    border-radius:     50% 90% 10% 95%;
    border-bottom: 2px solid $bg-color;
    border-left:   2px solid $bg-color;
    margin:                       auto;
    transform-origin:         left top;
    opacity:                       0.6;
    z-index:                        20;
    background-color:              red;
}


// start angle
$serviceAngleOffset: 245deg;
$serviceAngleStep: 20deg;


// petal angles
$serviceSpin1Angle:  $serviceAngleStep * 18;
$serviceSpin2Angle:  $serviceAngleStep * 17;
$serviceSpin3Angle:  $serviceAngleStep * 16;
$serviceSpin4Angle:  $serviceAngleStep * 15;
$serviceSpin5Angle:  $serviceAngleStep * 14;
$serviceSpin6Angle:  $serviceAngleStep * 13;
$serviceSpin7Angle:  $serviceAngleStep * 12;
$serviceSpin8Angle:  $serviceAngleStep * 11;
$serviceSpin9Angle:  $serviceAngleStep * 10;
$serviceSpin10Angle: $serviceAngleStep * 9;
$serviceSpin11Angle: $serviceAngleStep * 8;
$serviceSpin12Angle: $serviceAngleStep * 7;
$serviceSpin13Angle: $serviceAngleStep * 6;
$serviceSpin14Angle: $serviceAngleStep * 5;
$serviceSpin15Angle: $serviceAngleStep * 4;
$serviceSpin16Angle: $serviceAngleStep * 3;
$serviceSpin17Angle: $serviceAngleStep * 2;
$serviceSpin18Angle: $serviceAngleStep;


// animation
@mixin defineServicePetalAnim($anim) {
    @include animation("#{$anim} 6s ease-out forwards");
}

// create petal ids and add animation
@for $i from 101 through 118 {
    $index: $i - 100;
    #servicePetal#{$i} {
        @include defineServicePetalAnim( "spin#{$i}");
        @include transform( rotate($serviceAngleOffset - (( 19 - $index  ) * 20) ) scale(1));
        background-color: hsl(($index - 1) * 20, 100%, 50%)
    }
}



@media all and (min-width: 40em) {


}
