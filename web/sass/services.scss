@import "base";
@import "common";

/*
	-- TOP AND BOTTOM MASKS ------------------------------------------------------
*/
.mask {
    position: absolute;
    top: 50%;
    width: 100%;
    height: 100%;
    background-color: $bg-color;
    z-index: 10;
    // background-color: red;
}

#mask {
    margin-top: 150px;
}

#mask2 {
    margin-top: -50px;
    transform-origin: 0% 0%;
    @include transform(rotateX(180deg)  );
}

.mask2Container {
    @include transform(rotateX(180deg));
}

$servicesContentSize: 200px;

#servicesContent {
    @include abs-centered();
    height: $servicesContentSize;
    width: $servicesContentSize;
    margin-top: - ($servicesContentSize / 2) + 50;
    margin-left: - $servicesContentSize / 2;
    // @include debug(red);
}

#servicesContentText {

    position: relative;
    left: 60px;
    top: 50px;
    width: 140px;
    font-size: 34px;
    // @include debug(red);
    // font-family: 'BebasNeue', sans-serif;
}


.indexSpan {
    @include opacity(0);
}


// animation
@mixin defineIndexSpanAnim($anim, $delay) {
    @include animation("#{$anim} 3s ease-out #{$delay}s forwards");
}

$i: 1;

@for $i from 1 through 4 {
    #indexSpan#{$i} { @include defineIndexSpanAnim( "indexSpan#{$i}", $i - 1 ) }
    $i: $i + 1;
}


#indexSpan1, #indexSpan3 {
    color: #888;
}

#indexSpan4 {
    position: relative;
    display: inline-block;
    top: -10px;
    color: #0a0;
    font-size: 60px;
}

#indexSpan3 {
    position: relative;
    display: inline-block;
    top: -10px;
}


@mixin createIndexSpanAnim($name) {

    @include keyframes(#{$name}) {
        0% {
            @include opacity(0);
        }
        100% {
            @include opacity(1);
        }
    }
}

@for $i from 1 through 6 {
    #indexSpan#{$i} { @include defineIndexSpanAnim( "indexSpan#{$i}", $i) }
    $i: $i + 1;
}



@for $i from 1 through 6 {
    @include createIndexSpanAnim("indexSpan#{$i}");
}

/*
	-- TRUNK ---------------------------------------------------------------------
*/
#trunk {
  height: 2000px;
  width: 2000px;
  position: absolute;
  top: 100px;
  bottom: 0;
  left: 50%;
  right: 0;
  margin: auto;
  margin-left: -105px;
  border: 2px solid #333;
  @include border-left-radius(1000px);
}

#trunkMask {
    width: 50px;
    height: 200px;
    margin-top: -50px;
    margin-left: -120px;
    background-color: $bg-color;
    @include abs-centered();
    @include animation('growTrunk 2s linear forwards');
    // background-color: red;
}

@include keyframes(growTrunk) {
  0%   { margin-top: -50px; }
  100% { margin-top: -300px; }
}


/*
	-- LEAVES --------------------------------------------------------------------
*/
.leaf {
    @include border-radius(1% 90%);
    border: 1px solid $bg-color;
    height: 50px;
    margin: auto;
    width: 50px;
    position: absolute;
    left: 0px;
    transform-origin: left top;
    @include opacity(0);
    background-color: #080;
}

#leaf1 {
    top: 200px;
    @include transform(rotateZ(180deg));
    @include animation('leafGrow1 4s ease-out forwards');
}

#leaf2 {
    top: 200px;
    @include transform(rotateX(180deg) scale(0.01));
    @include animation('leafGrow2 4s ease-out 1s forwards');
}

#leaf3 {
    top: 125px;
    left: -2px;
    @include transform(rotateZ(180deg) scale(0.01));
    @include animation('leafGrow3 3s ease-out 2s forwards');
}

#leaf4 {
    top: 100px;
    left: -6px;
    @include transform(rotateX(180deg) scale(0.01));
    @include animation('leafGrow4 3s ease-out 3s forwards');
}


@include keyframes(leafGrow1) {
    from {
        @include transform(scale(0.01) rotateZ(180deg));
        @include opacity(1);
    }
    to {
        @include transform(scale(1) rotateZ(180deg));
        @include opacity(1);
    }
}

@include keyframes(leafGrow2) {
    from {
        @include transform(scale(0.01) rotateX(180deg));
        @include opacity(1);
    }
    to {
        @include transform(scale(1) rotateX(180deg));
        @include opacity(1);
    }
}

@include keyframes(leafGrow3) {
    from {
        @include transform(scale(0.01) rotateX(180deg));
        @include opacity(1);
    }
    to {
        @include transform(scale(0.8) rotateX(180deg));
        @include opacity(1);
    }
}

@include keyframes(leafGrow4) {
    from {
        @include transform(scale(0.01) rotateZ(180deg));
        @include opacity(1);
    }
    to {
        @include transform(scale(0.6) rotateZ(180deg));
        @include opacity(1);
    }
}


.stem {
    position: absolute;
    width: 50px;
    height: 5px;
    left: -8px;
    top: 15px;
    border-top: 2px solid #070;
    border-radius:50%;
    @include transform(rotateZ(45deg));
    // @include debug(red);
}

.stem1 {
    position: absolute;
    width: 5px;
    height: 10px;
    left: 10px;
    top: 8px;
    border-left: 1px solid #070;
    border-radius:50%;
    // @include transform(rotateZ(10deg));
    // @include debug(red);
}

.stem2 {
    position: absolute;
    width: 5px;
    height: 15px;
    right: 20px;
    top: 10px;
    border-left: 1px solid #070;
    border-radius:50%;
    // @include transform(rotateY(90deg));
    @include transform(rotateZ(80deg));
    // @include debug(red);
}

.stem3 {
    position: absolute;
    width: 5px;
    height: 15px;
    left: 25px;
    top: 25px;
    border-left: 1px solid #070;
    border-radius:50%;
    // @include transform(rotateZ(10deg));
    // @include debug(red);
}


/*
	-- CENTER --------------------------------------------------------------------
*/
// $bgGrey1: #fff;
// $bgGrey2: #ddd;
// $bgColor1: #0ac;
// $bgColor2: #0072BC;

$centerSize: 20px;
#serviceCenter {
    position: absolute;
    border: 2px solid $bg-color;
    background-color: black;
    width: $centerSize;
    height: $centerSize;
    top: -$centerSize / 2;
    left: -$centerSize / 2;
    z-index: 50;
    @include border-radius($centerSize);
    @include transform(scale(0));
    @include animation('centerGrow 2s ease-out 2s forwards');
}

@include keyframes(centerGrow) {
    from {
        @include transform(scale(0));
    }
    to {
        @include transform(scale(1));
    }
}


/*
	-- PETALS --------------------------------------------------------------------
*/
.servicePetal {
    position: absolute;
    top: 1px;
    left: 3px;
    border-radius: 50% 90% 10% 95%;
    border-top: 2px solid $bg-color;
    border-right: 2px solid $bg-color;
    height: 20px;
    width: 20px;
    margin: auto;
    transform-origin: left top;
    opacity: 0;
    z-index: 20;
}


// animation
@mixin defineServicePetalAnim($anim) {
    @include animation("#{$anim} 3s ease-out 2s forwards");
}

// create petal ids and add animation
@for $i from 101 through 118 {
    #servicePetal#{$i} { @include defineServicePetalAnim( "spin#{$i}") }
}

// start angle
$serviceAngleOffset: 245deg;
$serviceAngleStep: 20deg;

// petal angles
$serviceSpin1Angle:  $serviceAngleStep * 18;
$serviceSpin2Angle:  $serviceAngleStep * 17;
$serviceSpin3Angle:  $serviceAngleStep * 16;
$serviceSpin4Angle:  $serviceAngleStep * 15;
$serviceSpin5Angle:  $serviceAngleStep * 14;
$serviceSpin6Angle:  $serviceAngleStep * 13;
$serviceSpin7Angle:  $serviceAngleStep * 12;
$serviceSpin8Angle:  $serviceAngleStep * 11;
$serviceSpin9Angle:  $serviceAngleStep * 10;
$serviceSpin10Angle: $serviceAngleStep * 9;
$serviceSpin11Angle: $serviceAngleStep * 8;
$serviceSpin12Angle: $serviceAngleStep * 7;
$serviceSpin13Angle: $serviceAngleStep * 6;
$serviceSpin14Angle: $serviceAngleStep * 5;
$serviceSpin15Angle: $serviceAngleStep * 4;
$serviceSpin16Angle: $serviceAngleStep * 3;
$serviceSpin17Angle: $serviceAngleStep * 2;
$serviceSpin18Angle: $serviceAngleStep;

@mixin serviceAnimStart {
    opacity: 0;
    @include transform(rotate($serviceAngleOffset) scale(0.01));
}

@mixin serviceAnimEnd($angle,$scale) {
    opacity: 1;
    @include transform(rotate($angle) scale($scale));
}

@mixin createServiceAnim($name, $angle, $startColor, $endColor) {

    @include keyframes(#{$name}) {
        0% {
            @include serviceAnimStart;
        }
        50% {
            @include serviceAnimEnd($angle, 1);
            background-color: $startColor;
        }
        60% {
            @include serviceAnimEnd($angle, 1);
            background-color: $endColor;
        }
        100% {
            @include serviceAnimEnd($angle, 2);
            background-color: $endColor;
            opacity: 0.6;
        }
    }
}

@include createServiceAnim("spin101", $serviceAngleOffset - $serviceSpin1Angle, $bgGrey1, hsl(0, 100%, 50%));
@include createServiceAnim("spin102", $serviceAngleOffset - $serviceSpin2Angle, $bgGrey2, hsl(20, 100%, 50%));
@include createServiceAnim("spin103", $serviceAngleOffset - $serviceSpin3Angle, $bgGrey1, hsl(40, 100%, 50%));
@include createServiceAnim("spin104", $serviceAngleOffset - $serviceSpin4Angle, $bgGrey2, hsl(60, 100%, 50%));
@include createServiceAnim("spin105", $serviceAngleOffset - $serviceSpin5Angle, $bgGrey1, hsl(80, 100%, 50%));
@include createServiceAnim("spin106", $serviceAngleOffset - $serviceSpin6Angle, $bgGrey2, hsl(100, 100%, 50%));
@include createServiceAnim("spin107", $serviceAngleOffset - $serviceSpin7Angle, $bgGrey1, hsl(120, 100%, 50%));
@include createServiceAnim("spin108", $serviceAngleOffset - $serviceSpin8Angle, $bgGrey2, hsl(140, 100%, 50%));
@include createServiceAnim("spin109", $serviceAngleOffset - $serviceSpin9Angle, $bgGrey1, hsl(160, 100%, 50%));
@include createServiceAnim("spin110", $serviceAngleOffset - $serviceSpin10Angle, $bgGrey2, hsl(180, 100%, 50%));
@include createServiceAnim("spin111", $serviceAngleOffset - $serviceSpin11Angle, $bgGrey1, hsl(200, 100%, 50%));
@include createServiceAnim("spin112", $serviceAngleOffset - $serviceSpin12Angle, $bgGrey2, hsl(220, 100%, 50%));
@include createServiceAnim("spin113", $serviceAngleOffset - $serviceSpin13Angle, $bgGrey1, hsl(240, 100%, 50%));
@include createServiceAnim("spin114", $serviceAngleOffset - $serviceSpin14Angle, $bgGrey2, hsl(260, 100%, 50%));
@include createServiceAnim("spin115", $serviceAngleOffset - $serviceSpin15Angle, $bgGrey1, hsl(280, 100%, 50%));
@include createServiceAnim("spin116", $serviceAngleOffset - $serviceSpin16Angle, $bgGrey2, hsl(300, 100%, 50%));
@include createServiceAnim("spin117", $serviceAngleOffset - $serviceSpin17Angle, $bgGrey1, hsl(320, 100%, 50%));
@include createServiceAnim("spin118", $serviceAngleOffset - $serviceSpin18Angle, $bgGrey2, hsl(340, 100%, 50%));


@media all and (min-width: 40em) {

    #mask {
        margin-top: 300px;
    }

    #mask2 {
        margin-top: -200px;
    }

    #trunk {
      margin-left: -282px;
    }

    #trunkMask {
        height: 500px;
        margin-top: -200px;
        margin-left: -290px;
    }

    @include keyframes(growTrunk) {
      0%   { margin-top: -200px; }
      100% { margin-top: -750px; }
    }

    .leaf {
        height: 100px;
        width: 100px;
        left: 0px;
    }

    #leaf1 {
        top: 500px;
    }

    #leaf2 {
        top: 500px;
    }

    #leaf3 {
        top: 350px;
        left: -26px;
    }

    #leaf4 {
        top: 250px;
        left: -34px;
    }




    .servicePetal {
        top: 1px;
        left: 3px;
        border-top: 2px solid $bg-color;
        border-right: 2px solid $bg-color;
        height: 50px;
        width: 50px;
    }

    .stem {
        width: 100px;
        height: 10px;
        left: -15px;
        top: 30px;
        border-top: 4px solid #070;
    }

    .stem1 {
        width: 10px;
        height: 20px;
        left: 20px;
        top: 20px;
        border-left: 3px solid #070;
    }

    .stem2 {
        width: 10px;
        height: 30px;
        right: 32px;
        top: 30px;
        border-left: 2px solid #070;
    }

    .stem3 {
        width: 10px;
        height: 20px;
        left: 60px;
        top: 60px;
        border-left: 2px solid #070;
    }


    $centerSize: 40px;
    #serviceCenter {
        width: $centerSize;
        height: $centerSize;
        top: -$centerSize / 2;
        left: -$centerSize / 2;
        @include border-radius($centerSize);
    }

    $servicesContentSize: 500px;

    #servicesContent {
        height: $servicesContentSize;
        width: $servicesContentSize;
        margin-top: - ($servicesContentSize / 2) + 50;
        margin-left: - $servicesContentSize / 2;
    }

    #servicesContentText {

        left: 120px;
        top: 120px;
        width: 380px;
        font-size: 94px;
    }

    #indexSpan3 {
        position: relative;
        display: inline-block;
        top: -30px;
    }

    #indexSpan4 {
        position: relative;
        display: inline-block;
        top: -30px;
        font-size: 150px;
    }
}
